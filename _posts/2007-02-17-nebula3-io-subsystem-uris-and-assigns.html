---
layout: post
title: 'The Nebula3 IO subsystem: URIs and Assigns'
date: '2007-02-17T17:34:00.000+01:00'
author: Andre Weissflog
tags:
- English
- Nebula
modified_time: '2007-02-17T18:18:15.602+01:00'
blogger_id: tag:blogger.com,1999:blog-2948438400037317662.post-7029012963931376425
blogger_orig_url: http://flohofwoe.blogspot.com/2007/02/nebula3-io-subsystem-uris-and-assigns.html
---

Nebula3 uses <a href="http://en.wikipedia.org/wiki/Uniform_Resource_Identifier">URIs </a>(Uniform Resource Identifiers) instead of simple filename strings to locate IO resources. URI objects are usually created like this:<br /><pre><br />using namespace IO;<br />URI webUri("http://www.myhttpserver.com/index.html");<br />URI localUri("file:///c:/temp/text.txt");<br /></pre>The first URI points to a file on an HTTP server, the second URI points to a file in the local file system. When an URI object is created, it is parsed and split into its components:<br /><ul><li>the scheme (for instance "http", or "file")</li><li>the host ("www.myhttpserver.com")</li><li>the local path ("index.html", or "c:/temp/text.txt")</li></ul>URIs may also contain additional information:<br /><ul><li>user info: describes login information for a secure service</li><li>port number: describes a network port number</li><li>fragment: usually describes a location inside an HTML file</li><li>query: a set of key/value pairs often used by web services<br /></li></ul>Nebula3 has built-in support for the "file:" and "http:" schemes already. "ftp:" support is planned for the near future.<br /><br />For instance, to copy a file from a HTTP server into a local file system you could do somethis like this:<br /><pre><br />URI from("http://www.radonlabs.de/index.html");<br />URI to("file:///c:/temp/index.html");<br />IO::Server::Instance()->CopyFile(from, to);<br /></pre><span style="font-weight: bold;">Assigns</span> have already been used since Nebula1 (actually the concept and name stems from the original Amiga OS back in the 80's), they are aliases (or shortcuts) for file system locations and very handy to abstract the actual location of files in a Nebula application.<br /><br />For instance, instead of "C:/Program Files/MyApp/export/textures/category/mytexture.dds", you would simply use "textures:mycategory/mytexture.dds". The assign "textures:" would be defined as "C:/Programme/MyApp/export/textures".<br /><br />Assigns are especially useful to describe locations like the application's installation directory or the user directory of the currently logged in user. For this reason, Nebula3 defines a few standard assigns which are initialized at application startup:<br /><ul><li>home: this points to the application's install directory</li><li>bin: this points to the directory where the application executable resides</li><li>temp: this points to a scratch directory which is guaranteed to be readable and writable for the current user</li><li>user: this points to the user directory, in an English Windows, this is for example "My Files/CompanyName/AppName". The user: directory is guaranteed to be writable (unlike the installation directory), and this is the place where config data or save game files should reside.</li></ul>In Nebula3, Assigns have been extended to work with URIs. For instance, the "textures:" assign could be defined as "http://www.radonlabs.de/myapp/textures", which would automatically cause textures to be loaded from a http server instead of the local file system. Assigns can be nested, so for instance the "textures:" assign could also be set to "home:export/textures", which would automatically resolve to the location "export/textures" in the installation directory.